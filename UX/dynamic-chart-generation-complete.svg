<svg viewBox="0 0 2200 1700" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="1100" y="40" font-size="34" font-weight="bold" text-anchor="middle" fill="#1e293b">
    Dynamic Chart Generation: Any LLM + Recharts
  </text>
  <text x="1100" y="75" font-size="16" text-anchor="middle" fill="#64748b">
    Production-Ready Architecture for AI-Powered Data Visualization
  </text>
  
  <!-- Main Flow -->
  <g transform="translate(50, 120)">
    
    <!-- Step 1: User Query -->
    <g transform="translate(0, 0)">
      <rect x="0" y="0" width="1700" height="120" rx="12" fill="#f0f9ff" stroke="#0284c7" stroke-width="3"/>
      <text x="850" y="35" font-size="20" font-weight="bold" text-anchor="middle" fill="#0c4a6e">
        STEP 1: User Query
      </text>
      
      <rect x="100" y="55" width="1500" height="50" rx="8" fill="#ffffff" stroke="#0ea5e9" stroke-width="2"/>
      <text x="850" y="87" font-size="14" text-anchor="middle" fill="#0c4a6e">
        ðŸ’¬ User: "Show me GPT-4 vs Claude costs for last 30 days"
      </text>
    </g>
    
    <!-- Arrow Down -->
    <g transform="translate(850, 135)">
      <line x1="0" y1="0" x2="0" y2="40" stroke="#475569" stroke-width="4" marker-end="url(#arrowhead)"/>
      <text x="20" y="25" font-size="12" font-weight="600" fill="#475569">Send to API</text>
    </g>
    
    <!-- Step 2: LLM Options -->
    <g transform="translate(0, 190)">
      <rect x="0" y="0" width="1700" height="280" rx="12" fill="#fef3c7" stroke="#f59e0b" stroke-width="3"/>
      <text x="850" y="35" font-size="20" font-weight="bold" text-anchor="middle" fill="#92400e">
        STEP 2: Choose Your LLM
      </text>
      
      <!-- Option 1: GPT-4o -->
      <g transform="translate(50, 60)">
        <rect x="0" y="0" width="500" height="190" rx="10" fill="#dcfce7" stroke="#16a34a" stroke-width="3"/>
        <rect x="0" y="0" width="500" height="45" rx="10" fill="#16a34a"/>
        <text x="250" y="30" font-size="16" font-weight="bold" text-anchor="middle" fill="#ffffff">
          ðŸ¥‡ OpenAI GPT-4o
        </text>
        
        <g transform="translate(20, 60)">
          <text x="0" y="0" font-size="12" font-weight="600" fill="#15803d">RECOMMENDED</text>
          <text x="0" y="20" font-size="11" fill="#166534">âœ… $0.005 per chart</text>
          <text x="0" y="36" font-size="11" fill="#166534">âœ… 2-3 sec response</text>
          <text x="0" y="52" font-size="11" fill="#166534">âœ… 99.9% uptime</text>
          <text x="0" y="68" font-size="11" fill="#166534">âœ… JSON mode built-in</text>
          <text x="0" y="84" font-size="11" fill="#166534">âœ… Production-proven</text>
          
          <rect x="0" y="100" width="460" height="50" rx="6" fill="#f0fdf4" stroke="#22c55e" stroke-width="1"/>
          <text x="10" y="118" font-size="9" font-family="monospace" fill="#166534">openai.chat.completions.create(</text>
          <text x="10" y="131" font-size="9" font-family="monospace" fill="#166534">  model="gpt-4o",</text>
          <text x="10" y="144" font-size="9" font-family="monospace" fill="#166534">  response_format=json_object)</text>
        </g>
      </g>
      
      <!-- Option 2: Gemini -->
      <g transform="translate(600, 60)">
        <rect x="0" y="0" width="500" height="190" rx="10" fill="#dbeafe" stroke="#0284c7" stroke-width="3"/>
        <rect x="0" y="0" width="500" height="45" rx="10" fill="#0284c7"/>
        <text x="250" y="30" font-size="16" font-weight="bold" text-anchor="middle" fill="#ffffff">
          ðŸ¥ˆ Google Gemini 1.5
        </text>
        
        <g transform="translate(20, 60)">
          <text x="0" y="0" font-size="12" font-weight="600" fill="#0c4a6e">CHEAPER</text>
          <text x="0" y="20" font-size="11" fill="#075985">âœ… $0.002 per chart</text>
          <text x="0" y="36" font-size="11" fill="#075985">âœ… 60% cost savings</text>
          <text x="0" y="52" font-size="11" fill="#075985">âœ… BigQuery native</text>
          <text x="0" y="68" font-size="11" fill="#075985">âœ… JSON mode built-in</text>
          <text x="0" y="84" font-size="11" fill="#075985">âœ… Great quality</text>
          
          <rect x="0" y="100" width="460" height="50" rx="6" fill="#f0f9ff" stroke="#38bdf8" stroke-width="1"/>
          <text x="10" y="118" font-size="9" font-family="monospace" fill="#075985">model.generate_content(</text>
          <text x="10" y="131" font-size="9" font-family="monospace" fill="#075985">  query,</text>
          <text x="10" y="144" font-size="9" font-family="monospace" fill="#075985">  response_mime_type=json)</text>
        </g>
      </g>
      
      <!-- Option 3: Multi-LLM -->
      <g transform="translate(1150, 60)">
        <rect x="0" y="0" width="500" height="190" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="3"/>
        <rect x="0" y="0" width="500" height="45" rx="10" fill="#f59e0b"/>
        <text x="250" y="30" font-size="16" font-weight="bold" text-anchor="middle" fill="#ffffff">
          ðŸ¥‡ Multi-LLM (Best)
        </text>
        
        <g transform="translate(20, 60)">
          <text x="0" y="0" font-size="12" font-weight="600" fill="#92400e">MOST RELIABLE</text>
          <text x="0" y="20" font-size="11" fill="#78350f">âœ… 99.99% uptime</text>
          <text x="0" y="36" font-size="11" fill="#78350f">âœ… GPT-4o primary</text>
          <text x="0" y="52" font-size="11" fill="#78350f">âœ… Gemini fallback</text>
          <text x="0" y="68" font-size="11" fill="#78350f">âœ… No vendor lock-in</text>
          <text x="0" y="84" font-size="11" fill="#78350f">âœ… Cost optimization</text>
          
          <rect x="0" y="100" width="460" height="50" rx="6" fill="#fffbeb" stroke="#fbbf24" stroke-width="1"/>
          <text x="10" y="118" font-size="9" font-family="monospace" fill="#78350f">try: gpt4.generate()</text>
          <text x="10" y="131" font-size="9" font-family="monospace" fill="#78350f">except:</text>
          <text x="10" y="144" font-size="9" font-family="monospace" fill="#78350f">  gemini.generate()</text>
        </g>
      </g>
    </g>
    
    <!-- Arrow Down -->
    <g transform="translate(850, 485)">
      <line x1="0" y1="0" x2="0" y2="40" stroke="#475569" stroke-width="4" marker-end="url(#arrowhead)"/>
      <text x="20" y="25" font-size="12" font-weight="600" fill="#475569">Returns JSON</text>
    </g>
    
    <!-- Step 3: Generated JSON -->
    <g transform="translate(0, 540)">
      <rect x="0" y="0" width="1700" height="240" rx="12" fill="#f8fafc" stroke="#64748b" stroke-width="3"/>
      <text x="850" y="35" font-size="20" font-weight="bold" text-anchor="middle" fill="#1e293b">
        STEP 3: LLM Returns Chart Configuration
      </text>
      
      <rect x="100" y="55" width="1500" height="160" rx="8" fill="#ffffff" stroke="#cbd5e1" stroke-width="2"/>
      
      <g transform="translate(120, 75)" font-family="monospace" font-size="10">
        <text x="0" y="0" fill="#475569">{</text>
        <text x="20" y="18" fill="#059669">"chartType"</text><text x="120" y="18" fill="#475569">: </text><text x="140" y="18" fill="#dc2626">"LineChart"</text><text x="240" y="18" fill="#64748b">,</text>
        <text x="20" y="36" fill="#059669">"sqlQuery"</text><text x="120" y="36" fill="#475569">: </text><text x="140" y="36" fill="#dc2626">"SELECT date, model, SUM(cost_usd) as cost</text>
        <text x="140" y="52" fill="#dc2626">             FROM unified_costs</text>
        <text x="140" y="68" fill="#dc2626">             WHERE date >= DATE_SUB(CURRENT_DATE(), 30)</text>
        <text x="140" y="84" fill="#dc2626">             GROUP BY date, model"</text><text x="380" y="84" fill="#64748b">,</text>
        <text x="20" y="102" fill="#059669">"chartConfig"</text><text x="120" y="102" fill="#475569">: {</text>
        <text x="40" y="118" fill="#059669">"xAxis"</text><text x="100" y="118" fill="#475569">: { </text><text x="120" y="118" fill="#059669">"dataKey"</text><text x="200" y="118" fill="#475569">: </text><text x="220" y="118" fill="#dc2626">"date"</text><text x="270" y="118" fill="#475569"> },</text>
        <text x="40" y="134" fill="#059669">"lines"</text><text x="100" y="134" fill="#475569">: [{ </text><text x="120" y="134" fill="#059669">"dataKey"</text><text x="200" y="134" fill="#475569">: </text><text x="220" y="134" fill="#dc2626">"cost"</text><text x="270" y="134" fill="#475569">, </text><text x="290" y="134" fill="#059669">"stroke"</text><text x="360" y="134" fill="#475569">: </text><text x="380" y="134" fill="#dc2626">"#8884d8"</text><text x="460" y="134" fill="#475569"> }]</text>
        <text x="20" y="150" fill="#475569">}</text>
        <text x="0" y="166" fill="#475569">}</text>
      </g>
    </g>
    
    <!-- Arrow Down -->
    <g transform="translate(850, 795)">
      <line x1="0" y1="0" x2="0" y2="40" stroke="#475569" stroke-width="4" marker-end="url(#arrowhead)"/>
      <text x="20" y="25" font-size="12" font-weight="600" fill="#475569">Process</text>
    </g>
    
    <!-- Step 4: Backend Processing -->
    <g transform="translate(0, 850)">
      <rect x="0" y="0" width="1700" height="160" rx="12" fill="#fef3c7" stroke="#f59e0b" stroke-width="3"/>
      <text x="850" y="35" font-size="20" font-weight="bold" text-anchor="middle" fill="#92400e">
        STEP 4: Backend Processing
      </text>
      
      <g transform="translate(100, 60)">
        <g transform="translate(0, 0)">
          <rect x="0" y="0" width="480" height="80" rx="8" fill="#ffffff" stroke="#d97706" stroke-width="2"/>
          <text x="240" y="25" font-size="13" font-weight="600" text-anchor="middle" fill="#92400e">Execute SQL</text>
          <text x="20" y="45" font-size="10" fill="#78350f">â€¢ Query BigQuery</text>
          <text x="20" y="62" font-size="10" fill="#78350f">â€¢ Return data rows</text>
        </g>
        
        <g transform="translate(530, 0)">
          <rect x="0" y="0" width="480" height="80" rx="8" fill="#ffffff" stroke="#d97706" stroke-width="2"/>
          <text x="240" y="25" font-size="13" font-weight="600" text-anchor="middle" fill="#92400e">Prepare Chart</text>
          <text x="20" y="45" font-size="10" fill="#78350f">â€¢ Parse config JSON</text>
          <text x="20" y="62" font-size="10" fill="#78350f">â€¢ Map to Recharts</text>
        </g>
        
        <g transform="translate(1060, 0)">
          <rect x="0" y="0" width="480" height="80" rx="8" fill="#dcfce7" stroke="#16a34a" stroke-width="2"/>
          <text x="240" y="25" font-size="13" font-weight="600" text-anchor="middle" fill="#15803d">Send to Frontend</text>
          <text x="20" y="45" font-size="10" fill="#166534">â€¢ Config + Data</text>
          <text x="20" y="62" font-size="10" fill="#166534">â€¢ Ready to render!</text>
        </g>
      </g>
    </g>
    
    <!-- Arrow Down -->
    <g transform="translate(850, 1025)">
      <line x1="0" y1="0" x2="0" y2="40" stroke="#475569" stroke-width="4" marker-end="url(#arrowhead)"/>
      <text x="20" y="25" font-size="12" font-weight="600" fill="#475569">Render</text>
    </g>
    
    <!-- Step 5: Final Chart -->
    <g transform="translate(0, 1080)">
      <rect x="0" y="0" width="1700" height="180" rx="12" fill="#f0fdf4" stroke="#16a34a" stroke-width="3"/>
      <text x="850" y="35" font-size="20" font-weight="bold" text-anchor="middle" fill="#15803d">
        STEP 5: User Sees Interactive Chart âœ¨
      </text>
      
      <g transform="translate(100, 60)">
        <rect x="0" y="0" width="800" height="100" rx="8" fill="#ffffff" stroke="#22c55e" stroke-width="2"/>
        <text x="400" y="25" font-size="13" font-weight="600" text-anchor="middle" fill="#15803d">
          GPT-4 vs Claude Costs (Last 30 Days)
        </text>
        
        <g transform="translate(30, 40)">
          <line x1="0" y1="50" x2="740" y2="50" stroke="#e5e7eb" stroke-width="1"/>
          <line x1="0" y1="25" x2="740" y2="25" stroke="#e5e7eb" stroke-width="1"/>
          <polyline points="0,35 185,30 370,15 555,20 740,10" fill="none" stroke="#8884d8" stroke-width="3"/>
          <polyline points="0,45 185,43 370,30 555,33 740,25" fill="none" stroke="#82ca9d" stroke-width="3"/>
          <text x="745" y="15" font-size="10" fill="#8884d8">GPT-4</text>
          <text x="745" y="30" font-size="10" fill="#82ca9d">Claude</text>
        </g>
        
        <g transform="translate(850, 20)">
          <text x="0" y="0" font-size="12" font-weight="600" fill="#15803d">Features:</text>
          <text x="0" y="20" font-size="10" fill="#166534">âœ… Interactive</text>
          <text x="0" y="36" font-size="10" fill="#166534">âœ… Responsive</text>
          <text x="0" y="52" font-size="10" fill="#166534">âœ… 3 sec generation</text>
          <text x="0" y="68" font-size="10" fill="#166534">âœ… $0.005 cost</text>
        </g>
      </g>
    </g>
    
    <!-- Cost Breakdown -->
    <g transform="translate(0, 1290)">
      <rect x="0" y="0" width="1700" height="120" rx="12" fill="#fef3c7" stroke="#f59e0b" stroke-width="3"/>
      <text x="850" y="35" font-size="20" font-weight="bold" text-anchor="middle" fill="#92400e">
        ðŸ’° Monthly Cost Comparison
      </text>
      
      <g transform="translate(100, 60)">
        <g transform="translate(0, 0)">
          <rect x="0" y="0" width="480" height="45" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="2"/>
          <text x="240" y="22" font-size="12" font-weight="600" text-anchor="middle" fill="#15803d">GPT-4o</text>
          <text x="240" y="38" font-size="10" text-anchor="middle" fill="#166534">1K charts = $5 | 10K = $50</text>
        </g>
        
        <g transform="translate(530, 0)">
          <rect x="0" y="0" width="480" height="45" rx="6" fill="#dbeafe" stroke="#0284c7" stroke-width="2"/>
          <text x="240" y="22" font-size="12" font-weight="600" text-anchor="middle" fill="#0c4a6e">Gemini 1.5</text>
          <text x="240" y="38" font-size="10" text-anchor="middle" fill="#075985">1K charts = $2 | 10K = $20</text>
        </g>
        
        <g transform="translate(1060, 0)">
          <rect x="0" y="0" width="480" height="45" rx="6" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
          <text x="240" y="22" font-size="12" font-weight="600" text-anchor="middle" fill="#92400e">Multi-LLM</text>
          <text x="240" y="38" font-size="10" text-anchor="middle" fill="#78350f">1K charts = $4 | Best reliability!</text>
        </g>
      </g>
    </g>
  </g>
  
  <!-- Right Sidebar: Benefits -->
  <g transform="translate(1825, 120)">
    <rect x="0" y="0" width="325" height="680" rx="12" fill="#f0fdf4" stroke="#16a34a" stroke-width="3"/>
    <text x="162" y="35" font-size="18" font-weight="bold" text-anchor="middle" fill="#15803d">
      âœ… Key Benefits
    </text>
    
    <g transform="translate(20, 60)">
      <text x="0" y="0" font-size="13" font-weight="600" fill="#15803d">Production Ready:</text>
      <text x="0" y="20" font-size="10" fill="#166534">â€¢ Any LLM works</text>
      <text x="0" y="36" font-size="10" fill="#166534">â€¢ No Claude needed</text>
      <text x="0" y="52" font-size="10" fill="#166534">â€¢ 99.9% uptime</text>
      <text x="0" y="68" font-size="10" fill="#166534">â€¢ Fast (2-3 seconds)</text>
      
      <text x="0" y="96" font-size="13" font-weight="600" fill="#15803d">Cost Effective:</text>
      <text x="0" y="116" font-size="10" fill="#166534">â€¢ $0.002-$0.005/chart</text>
      <text x="0" y="132" font-size="10" fill="#166534">â€¢ Incredibly affordable</text>
      <text x="0" y="148" font-size="10" fill="#166534">â€¢ No infrastructure</text>
      
      <text x="0" y="176" font-size="13" font-weight="600" fill="#15803d">Flexible:</text>
      <text x="0" y="196" font-size="10" fill="#166534">â€¢ Any chart type</text>
      <text x="0" y="212" font-size="10" fill="#166534">â€¢ Dynamic SQL</text>
      <text x="0" y="228" font-size="10" fill="#166534">â€¢ Custom styling</text>
      <text x="0" y="244" font-size="10" fill="#166534">â€¢ No lock-in</text>
      
      <text x="0" y="272" font-size="13" font-weight="600" fill="#15803d">Easy to Build:</text>
      <text x="0" y="292" font-size="10" fill="#166534">â€¢ Simple API calls</text>
      <text x="0" y="308" font-size="10" fill="#166534">â€¢ Well documented</text>
      <text x="0" y="324" font-size="10" fill="#166534">â€¢ 2-3 weeks total</text>
      <text x="0" y="340" font-size="10" fill="#166534">â€¢ Proven approach</text>
      
      <text x="0" y="368" font-size="13" font-weight="600" fill="#15803d">Better Than A2UI:</text>
      <text x="0" y="388" font-size="10" fill="#166534">â€¢ Available NOW</text>
      <text x="0" y="404" font-size="10" fill="#166534">â€¢ Predictable costs</text>
      <text x="0" y="420" font-size="10" fill="#166534">â€¢ Full control</text>
      <text x="0" y="436" font-size="10" fill="#166534">â€¢ Production-proven</text>
      
      <text x="0" y="464" font-size="13" font-weight="600" fill="#15803d">Works With:</text>
      <text x="0" y="484" font-size="10" fill="#166534">â€¢ Recharts</text>
      <text x="0" y="500" font-size="10" fill="#166534">â€¢ Chart.js</text>
      <text x="0" y="516" font-size="10" fill="#166534">â€¢ Victory</text>
      <text x="0" y="532" font-size="10" fill="#166534">â€¢ D3.js</text>
      <text x="0" y="548" font-size="10" fill="#166534">â€¢ Any viz library!</text>
      
      <rect x="0" y="570" width="285" height="80" rx="8" fill="#dcfce7" stroke="#22c55e" stroke-width="2"/>
      <text x="142" y="595" font-size="12" font-weight="bold" text-anchor="middle" fill="#15803d">
        ðŸš€ Start Building
      </text>
      <text x="142" y="615" font-size="10" text-anchor="middle" fill="#166534">
        Get GPT-4o API key
      </text>
      <text x="142" y="632" font-size="10" text-anchor="middle" fill="#166534">
        Deploy in 3 weeks!
      </text>
    </g>
  </g>
  
  <!-- Timeline -->
  <g transform="translate(1825, 830)">
    <rect x="0" y="0" width="325" height="200" rx="12" fill="#fef3c7" stroke="#f59e0b" stroke-width="3"/>
    <text x="162" y="35" font-size="18" font-weight="bold" text-anchor="middle" fill="#92400e">
      ðŸ“… Timeline
    </text>
    
    <g transform="translate(20, 60)">
      <text x="0" y="0" font-size="12" font-weight="600" fill="#92400e">Week 1: Setup</text>
      <text x="0" y="18" font-size="10" fill="#78350f">â€¢ Get API keys</text>
      <text x="0" y="33" font-size="10" fill="#78350f">â€¢ Test locally</text>
      <text x="0" y="48" font-size="10" fill="#78350f">â€¢ System prompts</text>
      
      <text x="0" y="70" font-size="12" font-weight="600" fill="#92400e">Week 2: Integration</text>
      <text x="0" y="88" font-size="10" fill="#78350f">â€¢ API endpoint</text>
      <text x="0" y="103" font-size="10" fill="#78350f">â€¢ Chart renderer</text>
      <text x="0" y="118" font-size="10" fill="#78350f">â€¢ BigQuery connect</text>
      
      <text x="0" y="140" font-size="12" font-weight="600" fill="#92400e">Week 3: Production</text>
      <text x="0" y="158" font-size="10" fill="#78350f">â€¢ Deploy</text>
      <text x="0" y="173" font-size="10" fill="#78350f">â€¢ Monitor & optimize</text>
    </g>
  </g>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#475569"/>
    </marker>
  </defs>
</svg>
